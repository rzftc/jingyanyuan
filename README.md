<<<<<<< HEAD
# è™šæ‹Ÿç”µå‚(VPP)è°ƒèŠ‚èƒ½åŠ›åˆ†æä¸ä¼˜åŒ–ç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªåŸºäº MATLAB å¼€å‘çš„ç»¼åˆä»¿çœŸä¸åˆ†ææ¡†æ¶ï¼Œæ—¨åœ¨è¯„ä¼°ã€é¢„æµ‹å’Œä¼˜åŒ–åŒ…å«è§„æ¨¡åŒ–ç”µåŠ¨æ±½è½¦ï¼ˆEVï¼‰å’Œç©ºè°ƒï¼ˆACï¼‰è´Ÿè·çš„è™šæ‹Ÿç”µå‚ï¼ˆVPPï¼‰çš„è°ƒèŠ‚èƒ½åŠ›ã€‚

è¯¥ç³»ç»Ÿæ¶µç›–äº†ä»åº•å±‚è®¾å¤‡ç‰©ç†å»ºæ¨¡ã€ç”¨æˆ·æ¿€åŠ±å“åº”ã€æ—¶åºä»¿çœŸã€ç©ºé—´ç‰¹æ€§åˆ†æåˆ°ä¸Šå±‚ç”µç½‘è°ƒåº¦ä¼˜åŒ–çš„å…¨æµç¨‹ã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®ä¸»è¦è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š
1.  **è°ƒèŠ‚æ½œåŠ›è¯„ä¼°**ï¼šåŸºäºç‰©ç†æ¨¡å‹ï¼ˆACçƒ­åŠ›å­¦æ¨¡å‹ã€EVç”µæ± æ¨¡å‹ï¼‰è®¡ç®—å¤§è§„æ¨¡åˆ†å¸ƒå¼èµ„æºçš„èšåˆè°ƒèŠ‚æ½œåŠ›ã€‚
2.  **æ¿€åŠ±å“åº”æ¨¡æ‹Ÿ**ï¼šæ¨¡æ‹Ÿç”¨æˆ·åœ¨ä¸åŒç”µä»·æ¿€åŠ±ä¸‹çš„å‚ä¸æ„æ„¿å’Œè´Ÿè·å¼¹æ€§ã€‚
3.  **ä¼˜åŒ–è°ƒåº¦**ï¼šåœ¨æ»¡è¶³ç”µç½‘éœ€æ±‚å’Œç½‘ç»œæ½®æµçº¦æŸï¼ˆPTDFï¼‰çš„å‰æä¸‹ï¼Œæœ€å°åŒ–è°ƒåº¦æˆæœ¬å¹¶ä¼˜åŒ–èµ„æºäº’è¡¥æ€§ï¼ˆSDCIï¼‰ã€‚
4.  **è§„æ¨¡é¢„æµ‹**ï¼šåˆ©ç”¨å¤šç§ç»Ÿè®¡å’Œæœºå™¨å­¦ä¹ æ¨¡å‹é¢„æµ‹æœªæ¥åŒºåŸŸå†…çš„ EV å’Œ AC è§„æ¨¡ã€‚

## ğŸ› ï¸ ç¯å¢ƒè¦æ±‚

* **MATLAB ç‰ˆæœ¬**: R2021b æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
* **å¿…éœ€å·¥å…·ç®±**:
    * Optimization Toolbox (ç”¨äº `intlinprog`, `fmincon` ç­‰)
    * Global Optimization Toolbox (ç”¨äº `ga` é—ä¼ ç®—æ³•)
    * Statistics and Machine Learning Toolbox (ç”¨äº `TreeBagger`, `fitrsvm` ç­‰é¢„æµ‹æ¨¡å‹)
    * Parallel Computing Toolbox (æ¨èï¼Œç”¨äºåŠ é€Ÿå¤§è§„æ¨¡ `parfor` ä»¿çœŸ)
    * Econometrics Toolbox (ç”¨äº `arima` é¢„æµ‹)

## ğŸ“‚ ç›®å½•ç»“æ„è¯´æ˜

æ ¸å¿ƒä»£ç ä½äº `10regulatorycapacity` æ–‡ä»¶å¤¹ä¸‹ï¼Œå„å­æ¨¡å—åŠŸèƒ½å¦‚ä¸‹ï¼š

| ç›®å½•/æ–‡ä»¶ | åŠŸèƒ½æè¿° |
| :--- | :--- |
| **`0input_data/`** | **æ•°æ®ç”Ÿæˆä¸å­˜å‚¨**ã€‚åŒ…å«ç”Ÿæˆ EV/AC åˆå§‹å‚æ•°ï¼ˆExcelï¼‰çš„è„šæœ¬ï¼Œå¦‚ `generateEVData.m`ã€‚ |
| **`1initialize/`** | **åˆå§‹åŒ–æ¨¡å—**ã€‚è´Ÿè´£ä» Excel è¯»å–æ•°æ®å¹¶æ„å»º MATLAB ç»“æ„ä½“ï¼Œå¦‚ `initializeACsFromExcel.m`ã€‚ |
| **`2AC/`** | **ç©ºè°ƒæ ¸å¿ƒç®—æ³•**ã€‚åŒ…å«å•ä½“ AC çš„çƒ­åŠ›å­¦æ¨¡å‹ã€åŸºçº¿åŠŸç‡è®¡ç®—åŠ SOC çŠ¶æ€æ›´æ–°é€»è¾‘ã€‚ |
| **`3EV/`** | **ç”µåŠ¨æ±½è½¦æ ¸å¿ƒç®—æ³•**ã€‚åŒ…å«å•ä½“ EV çš„å……ç”µè¡Œä¸ºæ¨¡æ‹Ÿã€åŸºçº¿è®¡ç®—åŠçµæ´»æ€§è¾¹ç•Œè®¡ç®—ã€‚ |
| **`4analysis/`** & **`4.1analysis/`** | **ä¼˜åŒ–ä¸æŒ‡æ ‡è®¡ç®—**ã€‚åŒ…å«åˆ†å±‚ä¼˜åŒ–ç®—æ³•ï¼ˆGA+MILPï¼‰ã€ç½‘ç»œçº¦æŸï¼ˆPTDFï¼‰å¤„ç†åŠäº’è¡¥æ€§æŒ‡æ ‡ï¼ˆSDCI, Rhoï¼‰è®¡ç®—ã€‚ |
| **`5userUncertainties/`** | **ç”¨æˆ·è¡Œä¸ºå»ºæ¨¡**ã€‚è®¡ç®—åŸºäºç”µä»·çš„ç”¨æˆ·å‚ä¸åº¦æ¦‚ç‡åŠå“åº”ä¸ç¡®å®šæ€§ã€‚ |
| **`6SensAnalyses/`** | **çµæ•åº¦åˆ†æ**ã€‚åˆ†ææ¿€åŠ±ä»·æ ¼å˜åŒ–å¯¹è°ƒèŠ‚æ½œåŠ›çš„å½±å“æ¢¯åº¦ã€‚ |
| **`7main/`** | **ä»¿çœŸä¸»ç¨‹åºå…¥å£**ã€‚åŒ…å«å¤§è§„æ¨¡è®¾å¤‡çš„æ—¶åºä»¿çœŸã€åˆ†å—å¤„ç†é€»è¾‘åŠç»˜å›¾è„šæœ¬ã€‚ |
| **`9predict/`** | **è§„æ¨¡é¢„æµ‹æ¨¡å—**ã€‚åŒ…å« Bassã€Logisticã€ARIMAã€éšæœºæ£®æ—ã€SVR ç­‰å¤šç§é¢„æµ‹æ¨¡å‹ã€‚ |
| **`10spaceRelation/`** | **ç©ºé—´åˆ†æ**ã€‚åˆ†æè´Ÿè·çš„ç©ºé—´åˆ†å¸ƒç‰¹æ€§ï¼Œå¤„ç†ç»çº¬åº¦ä¸åŠŸèƒ½åŒºæ˜ å°„ã€‚ |
| **`11stackburg/`** | **åšå¼ˆæ¨¡å‹**ã€‚æ¶‰åŠ Stackelberg åšå¼ˆç›¸å…³çš„è°ƒåº¦è®¡ç®—ã€‚ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç”Ÿæˆæ•°æ® (å¯é€‰)
å¦‚æœ `0input_data` ä¸­æ²¡æœ‰ `.xlsx` æ•°æ®æ–‡ä»¶ï¼Œè¿è¡Œä»¥ä¸‹è„šæœ¬ç”Ÿæˆï¼š
```matlab
cd 0input_data
generateExampleExcel_real_48(200, 100, 0.5); % ç”Ÿæˆç¤ºä¾‹ AC å’Œ EV æ•°æ®
2. è¿è¡Œè°ƒèŠ‚æ½œåŠ›ä»¿çœŸ (Main Simulation)è¿›å…¥ 7main ç›®å½•ï¼Œè¿è¡Œä¸»ä»¿çœŸè„šæœ¬ã€‚è¯¥è„šæœ¬ä¼šè®¡ç®—åŸºçº¿è´Ÿè·å’Œè°ƒèŠ‚æ½œåŠ›ä¸Šä¸‹é™ã€‚æ¨èè„šæœ¬: ac_ev_simulation_block_abselute_hour.mæ”¯æŒåˆ†å—å¤„ç†ï¼ˆChunk Processingï¼‰ï¼Œé˜²æ­¢å†…å­˜æº¢å‡ºã€‚ä½¿ç”¨ç»å¯¹æ—¶é—´è½´ï¼ˆä¾‹å¦‚ 06:00 - æ¬¡æ—¥ 06:00ï¼‰ã€‚è‡ªåŠ¨ä¿å­˜ç»“æœåˆ° chunk_results/ æ–‡ä»¶å¤¹ã€‚3. è¿è¡Œä¼˜åŒ–è°ƒåº¦ (Optimization)ä»¿çœŸå®Œæˆåï¼Œä½¿ç”¨ 4.1analysis ä¸­çš„è„šæœ¬åŠ è½½ç»“æœå¹¶è¿›è¡Œç”µç½‘è°ƒåº¦ä¼˜åŒ–ã€‚æ¨èè„šæœ¬: main_vpp_optimizer_multi_objective.m æˆ– main_vpp_optimizer.måŠ è½½æ­¥éª¤ 2 ç”Ÿæˆçš„åˆ†å—æ•°æ®ã€‚æ‰§è¡ŒåŸºäºé—ä¼ ç®—æ³•ï¼ˆGAï¼‰å’Œè´ªå¿ƒç®—æ³•çš„åˆ†å±‚ä¼˜åŒ–ã€‚è€ƒè™‘ç½‘ç»œæ½®æµçº¦æŸï¼ˆPTDFï¼‰å’Œäº’è¡¥æ€§æŒ‡æ ‡ã€‚4. è¿è¡Œè§„æ¨¡é¢„æµ‹ (Prediction)å¦‚æœéœ€è¦è¿›è¡Œæœªæ¥çš„ä¿æœ‰é‡é¢„æµ‹ï¼šè¿›å…¥ 9predict ç›®å½•ã€‚è¿è¡Œ test2.m æˆ– predict_node_level.m è¿›è¡Œå¤šæ¨¡å‹å¯¹æ¯”é¢„æµ‹ï¼ˆBass, Logistic, Random Forest ç­‰ï¼‰ã€‚ğŸ§© å…³é”®æ¨¡å—è¯¦è§£A. è®¾å¤‡ç‰©ç†æ¨¡å‹ (2AC, 3EV)ç©ºè°ƒ (AC): é‡‡ç”¨äºŒé˜¶çƒ­é˜»-çƒ­å®¹æ¨¡å‹ã€‚çŠ¶æ€å˜é‡ä¸ºå®¤å†…æ¸©åº¦ï¼Œé€šè¿‡å ç©ºæ¯”æˆ–å˜é¢‘æ§åˆ¶è°ƒèŠ‚åŠŸç‡ã€‚å…³é”®å‡½æ•°: calculateACABC_single (çŠ¶æ€è½¬ç§»çŸ©é˜µ), calculateACAdjustmentPotentia.ç”µåŠ¨æ±½è½¦ (EV): è€ƒè™‘åˆ°è¾¾æ—¶é—´ã€ç¦»å¼€æ—¶é—´ã€ç›®æ ‡ç”µé‡å’Œæœ€å¤§å……ç”µåŠŸç‡ã€‚å¼•å…¥â€œè™šæ‹Ÿ SOCâ€æ¦‚å¿µæè¿°è°ƒèŠ‚èƒ½åŠ›çš„ç´§è¿«åº¦ã€‚å…³é”®å‡½æ•°: EVbaseP_ChargeUntilFull, calculateEVAdjustmentPotentia_new.B. åˆ†å—ä»¿çœŸæ¶æ„ (7main)ä¸ºäº†å¤„ç†æ•°ä¸‡ç”šè‡³æ•°åä¸‡å°è®¾å¤‡ï¼Œç³»ç»Ÿé‡‡ç”¨åˆ†å—å¤„ç†æœºåˆ¶ï¼šè¯»å–: æ¯æ¬¡ä» Excel è¯»å– chunkSize (å¦‚ 10000) è¡Œæ•°æ®ã€‚è®¡ç®—: å¹¶è¡Œè®¡ç®— (parfor) è¯¥å—å†…è®¾å¤‡çš„åŸºçº¿å’Œè°ƒèŠ‚æ½œåŠ›ã€‚ä¿å­˜: å°†è¯¥å—çš„è®¡ç®—ç»“æœï¼ˆä¸Šè°ƒæ½œåŠ›ã€ä¸‹è°ƒæ½œåŠ›ã€SOCè½¨è¿¹ï¼‰ä¿å­˜ä¸ºç‹¬ç«‹çš„ .mat æ–‡ä»¶ã€‚èšåˆ: åç»­åˆ†æè„šæœ¬ (4.1analysis/load_simulation_data_from_chunks.m) åŠ¨æ€åŠ è½½å¹¶èšåˆè¿™äº›æ–‡ä»¶ã€‚C. ä¼˜åŒ–è°ƒåº¦ç­–ç•¥ (4analysis)é‡‡ç”¨äº†åˆ†å±‚ä¼˜åŒ–æ¶æ„ï¼šä¸Šå±‚ (GA): ä¼˜åŒ–æ¯å°æ—¶å‚ä¸è°ƒåº¦çš„è®¾å¤‡æ•°é‡ ($n_{AC}, n_{EV}$)ã€‚ç›®æ ‡æ˜¯æ»¡è¶³ç”µç½‘å³°å€¼éœ€æ±‚å¹¶ä¼˜åŒ–äº’è¡¥æ€§æŒ‡æ ‡ã€‚ä¸‹å±‚ (MILP/Greedy): åœ¨å·²çŸ¥å‚ä¸æ•°é‡çš„å‰æä¸‹ï¼Œé€‰æ‹©å…·ä½“çš„è®¾å¤‡å¹¶åˆ†é…åŠŸç‡ã€‚ç›®æ ‡å‡½æ•°: æœ€å°åŒ–è°ƒèŠ‚æˆæœ¬ã€‚çº¦æŸ: åŠŸç‡å¹³è¡¡ã€è®¾å¤‡ç‰©ç†çº¦æŸã€ç”µç½‘æ½®æµçº¦æŸ (åŸºäº PTDF çŸ©é˜µ)ã€‚å…³é”®æŒ‡æ ‡: SDCI (æºè·äº’è¡¥æŒ‡æ•°) å’Œ Spearman Rho (ç›¸å…³ç³»æ•°)ã€‚D. é¢„æµ‹æ¨¡å‹ (9predict)é›†æˆäº†å¤šç§é¢„æµ‹æ–¹æ³•ä»¥åº”å¯¹ä¸åŒæ•°æ®è´¨é‡ï¼šBass / Logistic: é€‚ç”¨äºé•¿æœŸè¶‹åŠ¿é¢„æµ‹ã€‚Grey Prediction (GM1,1): é€‚ç”¨äºå°‘æ•°æ®æ ·æœ¬ã€‚ARIMA: æ—¶é—´åºåˆ—åˆ†æã€‚Random Forest / SVR: å¼•å…¥å¤–éƒ¨å› å­ï¼ˆå¦‚GDPã€æ”¿ç­–ï¼‰çš„å›å½’é¢„æµ‹ã€‚ğŸ“Š ç»“æœå¯è§†åŒ–ç³»ç»ŸåŒ…å«ä¸°å¯Œçš„ç»˜å›¾å·¥å…·ï¼Œä½äº 7main å’Œ 4.1analysisï¼šplot_vpp_analysis.m: ç»˜åˆ¶ä¼˜åŒ–å‰åçš„è°ƒåº¦å¯¹æ¯”å›¾ï¼Œå±•ç¤º SDCI å’Œ Rho æŒ‡æ ‡çš„æ”¹å–„ã€‚plot_sense.m: ç»˜åˆ¶ä¸åŒæ¿€åŠ±ç”µä»·ä¸‹çš„è°ƒèŠ‚æ½œåŠ›çµæ•åº¦æ›²çº¿ã€‚AC_Result_Plotter.m: ä¸“é—¨ç”¨äºç»˜åˆ¶ç©ºè°ƒé›†ç¾¤çš„çŠ¶æ€æ¼”å˜ï¼ˆSOCã€æ¸©åº¦ã€åŠŸç‡ï¼‰ã€‚æ³¨æ„ï¼šæœ¬ä»£ç åº“ä¸­åŒ…å«å¤§é‡çš„ .m è„šæœ¬ï¼Œéƒ¨åˆ†ä¸ºå†å²ç‰ˆæœ¬æˆ–æµ‹è¯•è„šæœ¬ï¼ˆå¦‚ old_ver æ–‡ä»¶å¤¹ï¼‰ã€‚è¯·ä¼˜å…ˆä½¿ç”¨æœ¬æ–‡æ¡£æ¨èçš„ä¸»ç¨‹åºå…¥å£ã€‚
=======
# ç›‘ç®¡èƒ½åŠ›åˆ†æç³»ç»Ÿ

ä¸€ä¸ªåŸºäº MATLAB çš„æ¡†æ¶ï¼Œç”¨äºç›‘ç®¡èƒ½åŠ›çš„åˆ†æä¸é¢„æµ‹ã€‚

## ç›®å½•ç»“æ„

æ ¸å¿ƒä»£ç ä½äº `10regulatorycapacity` æ–‡ä»¶å¤¹ï¼Œæ¨¡å—ç®€ä»‹ï¼š

| æ¨¡å—è·¯å¾„             | åŠŸèƒ½                |
|-------------------|-------------------|
| **0input_data**  | æ•°æ®å­˜å‚¨ä¸é¢„å¤„ç†       |
| **1initialize**  | å‚æ•°å’Œç¯å¢ƒåˆå§‹åŒ–       |
| **2AC / 3EV**    | æ ¸å¿ƒè®¡ç®—æ¨¡å—         |
| **4analysis**    | åŸºç¡€åˆ†æåŠŸèƒ½         |
| **5userUncertainties** | ç”¨æˆ·ä¸ç¡®å®šæ€§å»ºæ¨¡      |
| **6SensAnalyses** | çµæ•åº¦åˆ†æ          |
| **7main**         | ä¸»ç¨‹åºå…¥å£           |
| **9predict**      | é¢„æµ‹æ¨¡å—            |
| **10spaceRelation** | ç©ºé—´å…³ç³»è®¡ç®—         |
| **11stackburg**   | Stackelberg åšå¼ˆæ¨¡å‹ |

#### æ¨¡å—ä»‹ç»ä¸ç”¨æ³•è¯´æ˜
| æ¨¡å—è·¯å¾„ | ç®€ä»‹ | ç”¨æ³• |
|---------|-----|------|
| **0input_data** | æ•°æ®å­˜å‚¨ä¸é¢„å¤„ç† | å°†æ•°æ®æ–‡ä»¶æ”¾å…¥ç›®å½•ï¼Œé€šè¿‡æ¨¡å—å®Œæˆæ•°æ®åˆæ­¥å¤„ç† |
| **1initialize** | ç³»ç»Ÿåˆå§‹åŒ– | åˆå§‹åŒ–åˆ†æå‚æ•°åŠè¿è¡Œç¯å¢ƒ |
| **2AC / 3EV** | æ ¸å¿ƒè®¡ç®— | æ‰§è¡Œåˆ†ææ‰€éœ€ä¸»è¦è®¡ç®—ä»»åŠ¡ |
| **4analysis** | æ•°æ®åˆ†æ | ç”Ÿæˆåˆ†æç»“æœå’Œå›¾è¡¨ |
| **5userUncertainties** | ä¸ç¡®å®šæ€§å»ºæ¨¡ | å®šä¹‰ç”¨æˆ·è¾“å…¥æ¡ä»¶ï¼Œæ¢ç©¶ç³»ç»Ÿå¯¹å‚æ•°å˜åŠ¨çš„å“åº” |
| **6SensAnalyses** | çµæ•åº¦åˆ†æ | å¯¹å…³é”®ç»´åº¦æ‰§è¡Œçµæ•åº¦åˆ†æå®éªŒ |
| **7main** | ä¸»ç¨‹åºå…¥å£ | é¡¹ç›®æ ¸å¿ƒè¿è¡Œä¸»ç›®å½•ï¼Œç›´æ¥è¿è¡Œå®Œæˆå…¨æµç¨‹ |
| **9predict** | é¢„æµ‹è®¡ç®— | æ¨¡æ‹Ÿæœªæ¥æ€§èƒ½å˜åŒ–è¶‹åŠ¿ |
| **10spaceRelation** | ç©ºé—´è®¡ç®— | åˆ†æä¸åŒå˜é‡çš„ç©ºé—´åˆ†å¸ƒå…³ç³» |
| **11stackburg** | åšå¼ˆæ¨¡å‹ | è§£ç®—å¤šå‚ä¸æ–¹åšå¼ˆé—®é¢˜ |

## å¿«é€Ÿå¼€å§‹

1. å®‰è£… MATLABã€‚
2. è¿›å…¥ `10regulatorycapacity/7main` ç›®å½•ã€‚
3. è¿è¡Œä¸»è„šæœ¬è¿›è¡Œåˆ†æã€‚
>>>>>>> 3f7e2f48e65f1b4ed062248aad638608a766c3e0
